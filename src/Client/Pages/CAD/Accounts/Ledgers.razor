@page "/cad/ledger"
@page "/cad/ledger/{AccountId:guid}"

@attribute [MustHavePermission(FSHAction.View, FSHResource.CAD)]

<FshTitle Title="Ledger" Description="Manage Account Ledger" />

<EntityTable SearchString="@_searchString" @ref=_table Context="@Context" TEntity="LedgerDto" TId="Guid" TRequest="LedgerUpdateRequest">

    <EditFormContent>
        <MudItem xs="12" sm="6" md="4" lg="3">
            <MudTextField Label="Bill Month" For="@(() => context.BillMonth)" @bind-Value="context.BillMonth" Variant="Variant.Filled" />
        </MudItem>
        <MudItem xs="12" sm="6" md="4" lg="3">
            <MudTextField Label="Bill Number" For="@(() => context.BillNumber)" @bind-Value="context.BillNumber" Variant="Variant.Filled" />
        </MudItem>

        <MudItem xs="12" sm="6" md="4" lg="3">
            <MudNumericField Label="Debit" For="@(() => context.Debit)" @bind-Value="context.Debit" Variant="Variant.Filled" />
        </MudItem>
        <MudItem xs="12" sm="6" md="4" lg="3">
            <MudNumericField Label="Credit" For="@(() => context.Credit)" @bind-Value="context.Credit" Variant="Variant.Filled" />
        </MudItem>
        <MudItem xs="12" sm="6" md="4" lg="3">
            <MudNumericField Label="Balance" For="@(() => context.Balance)" @bind-Value="context.Balance" Variant="Variant.Filled" />
        </MudItem>

        <MudItem xs="12" sm="6" md="4" lg="3">
            <SfDatePicker TValue="DateTime"
                          @bind-Value="context.PostingDate"
                          CssClass="e-bigger e-filled mt-1"
                          Format="MMMM dd, yyyy"
                          FloatLabelType="Syncfusion.Blazor.Inputs.FloatLabelType.Auto"
                          Placeholder="Posting Date"
                          ShowTodayButton=true />
        </MudItem>

        <MudItem xs="12">
            <MudExpansionPanels MultiExpansion="true">
                <MudExpansionPanel Text="Other Information">
                    <MudItem xs="12">
                        <MudTextField Label="Description" For="@(() => context.Description)" @bind-Value="context.Description" Lines="1" />
                    </MudItem>
                    <MudItem xs="12">
                        <MudTextField Label="Notes" For="@(() => context.Notes)" @bind-Value="context.Notes" Lines="2" />
                    </MudItem>
                </MudExpansionPanel>
            </MudExpansionPanels>
        </MudItem>
 
    </EditFormContent>
</EntityTable>