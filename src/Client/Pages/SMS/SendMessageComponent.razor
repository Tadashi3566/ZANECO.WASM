<EditForm Model="@_model" OnValidSubmit="Send">
    <DataAnnotationsValidator />
    <CustomValidation @ref="_customValidation" />
    <MudGrid>
        <MudItem xs="12" sm="6" md="4" lg="3" xl="2" xxl="1">
            <MudSwitch Class="mt-3" Label="Use m360 API (Default:SIM)" For="@(() => _model.IsAPI)" @bind-Checked="_model.IsAPI" Color="Color.Tertiary" />
        </MudItem>
        <MudItem xs="12" sm="6" md="4" lg="3" xl="2" xxl="1">
            <MudSelect T="string" Label="Message Type" @bind-Value="_model.MessageType" For="@(() => _model.MessageType)" Variant="Variant.Filled">
                <MudSelectItem Value="@("sms.automatic")" />
                <MudSelectItem Value="@("sms.automatic.flash")" />
            </MudSelect>
        </MudItem>
        @if (DisplayRecepients)
        {
            <MudItem xs="12">
                <MudTextField Label="Recepient" For="@(() => _model.MessageTo)" @bind-Value="_model.MessageTo" Lines="10" Variant="Variant.Filled" />
            </MudItem>
        }
        <MudItem xs="12">
            <MudTextField Counter=160 Immediate=true HelperText="Recommended SMS is up to 160 characters" Label="Message" For="@(() => _model.MessageText)" @bind-Value="_model.MessageText" Lines="5" Variant="Variant.Filled" />
        </MudItem>
        <MudItem>
            <MudButton Color="Color.Primary" Class="ml-auto" StartIcon="@Icons.Material.Filled.Send" Variant="Variant.Filled"
                       ButtonType="ButtonType.Submit">Send</MudButton>
        </MudItem>
    </MudGrid>
</EditForm>
